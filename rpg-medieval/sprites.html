<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>RPG Medieval 2D</title>

<style>
body {
    margin: 0;
    background: #111;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

canvas {
    border: 3px solid black;
    background: #87ceeb;
    image-rendering: pixelated;
}
</style>
</head>
<body>

<canvas id="game" width="400" height="300"></canvas>

<script>
/* ======================
   CANVAS
====================== */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
ctx.imageSmoothingEnabled = false;

/* ======================
   SPRITE IDLE
====================== */
const idleImg = new Image();
idleImg.src = "Sprites/Knight/Idle.png";

/*
AJUSTA ESTO SI TU SPRITE ES DIFERENTE
(64x64 es lo más común)
*/
const FRAME_WIDTH = 64;
const FRAME_HEIGHT = 64;
const TOTAL_FRAMES = 6;

let currentFrame = 0;
let frameTimer = 0;
const FRAME_SPEED = 10;

/* ======================
   LOOP
====================== */
function loop() {
    frameTimer++;
    if (frameTimer >= FRAME_SPEED) {
        frameTimer = 0;
        currentFrame = (currentFrame + 1) % TOTAL_FRAMES;
    }

    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.drawImage(
        idleImg,
        currentFrame * FRAME_WIDTH,
        0,
        FRAME_WIDTH,
        FRAME_HEIGHT,
        168,
        118,
        FRAME_WIDTH,
        FRAME_HEIGHT
    );

    requestAnimationFrame(loop);
}

/* ======================
   START
====================== */
idleImg.onload = () => {
    console.log("Idle cargado correctamente");
    loop();
};

idleImg.onerror = () => {
    console.error("ERROR: no se pudo cargar Sprites/Knight/Idle.png");
};
</script>

</body>
</html>
