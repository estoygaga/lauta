<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>RPG Medieval - Idle</title>

<style>
body {
    margin: 0;
    background: black;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}

canvas {
    background: #87ceeb;
    image-rendering: pixelated;
    border: 2px solid black;
}
</style>
</head>
<body>

<canvas id="game" width="800" height="400"></canvas>

<script>
/* =====================
   SETUP BÁSICO
===================== */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

/* =====================
   SPRITE IDLE
===================== */
const idleImage = new Image();
idleImage.src = "./Sprites/Knight/Idle.png";

const FRAME_WIDTH = 128;
const FRAME_HEIGHT = 128;
const TOTAL_FRAMES = 6;

let currentFrame = 0;
let frameTimer = 0;
const FRAME_SPEED = 10; // menor = más rápido

idleImage.onload = () => {
    requestAnimationFrame(loop);
};

/* =====================
   LOOP PRINCIPAL
===================== */
function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
}

/* =====================
   UPDATE
===================== */
function update() {
    frameTimer++;
    if (frameTimer >= FRAME_SPEED) {
        frameTimer = 0;
        currentFrame++;
        if (currentFrame >= TOTAL_FRAMES) {
            currentFrame = 0;
        }
    }
}

/* =====================
   DRAW
===================== */
function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    ctx.drawImage(
        idleImage,
        currentFrame * FRAME_WIDTH,  // X en el sprite
        0,                           // Y en el sprite
        FRAME_WIDTH,
        FRAME_HEIGHT,
        336,                         // X en pantalla
        200,                         // Y en pantalla
        FRAME_WIDTH,
        FRAME_HEIGHT
    );
}
</script>

</body>
</html>

